# 有效括号的嵌套深度  
leetcode👉https://leetcode-cn.com/problems/maximum-nesting-depth-of-two-valid-parentheses-strings/  

有效括号字符串 定义：对于每个左括号，都能找到与之对应的右括号，反之亦然。详情参见题末「有效括号字符串」部分。

嵌套深度 depth 定义：即有效括号字符串嵌套的层数。详情参见题末「嵌套深度」部分。

给你一个「有效括号字符串」 seq，将其分成两个不相交的子序列 A 和 B，且 A 和 B 都满足有效括号字符串的定义（注意：A.length + B.length = seq.length）。

现在，你需要从中选出 任意 一组有效括号字符串 A 和 B，使 max(depth(A), depth(B)) 的可能取值最小。

返回长度为 seq.length 答案数组 answer ，选择 A 还是 B 的编码规则是：如果 seq[i] 是 A 的一部分，那么 answer[i] = 0。否则，answer[i] = 1。即便有多个满足要求的答案存在，你也只需返回 一个。

- 分析  
  分成两组有效括号  
  想让两组有效括号 A, B 的嵌套深度中的较大者尽量小，就要让 A 和 B 尽可能地平均分  
  原因：
    总地嵌套深度是固定的，如果 A 和 B 其中有一个嵌套深度很小，另一个嵌套深度会变大  

  计算嵌套深度，将奇数层的 ( 分给 A，偶数层的 ( 分给 B  
  嵌套深度的计算：  
  1. 遇到 ( 深度 +1  
  2. 遇到 ) 深度就是当前深度大小，并把深度 -1 (去掉一个左括号)  

- 优化  
  找规律  
  括号序列   ( ( ) ( ( ) ) ( ) )  
  下标编号   0 1 2 3 4 5 6 7 8 9  
  嵌套深度   1 2 - 2 3 - - 2 - -  (左括号)  
  嵌套深度   - - 2 - - 3 2 - 2 1  (右括号)  

  1. 左括号 ( 的下标编号与嵌套深度的奇偶性相反，也就是说  
    下标编号为奇数的 (，其嵌套深度为偶数，分配给 B  
    下标编号为偶数的 (，其嵌套深度为奇数，分配给 A  

  2. 右括号 ) 的下标编号与嵌套深度的奇偶性相同，也就是说  
    下标编号为奇数的 )，其嵌套深度为奇数，分配给 A  
    下标编号为偶数的 )，其嵌套深度为偶数，分配给 B  